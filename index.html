<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>0xRIP - Digital Graveyard | Cyber Necropolis</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700;900&family=Noto+Sans+SC:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Âä†ËΩΩÂä®Áîª -->
  <div id="loader" class="loader">
    <div class="loader-content">
      <div class="loader-logo glitch" data-text="0xRIP">0xRIP</div>
      <div class="loader-bar">
        <div class="loader-progress"></div>
      </div>
      <div class="loader-text">INITIALIZING CYBER NECROPOLIS...</div>
    </div>
  </div>

  <!-- ‰∏ªÂ∫îÁî® -->
  <div id="app" class="hidden">
    <!-- Three.js ÁîªÂ∏ÉÂÆπÂô® -->
    <div id="canvas-container"></div>

    <!-- Êâ´ÊèèÁ∫øÊïàÊûú -->
    <div class="scanlines"></div>

    <!-- ÊïÖÈöúÊïàÊûúË¶ÜÁõñÂ±Ç -->
    <div id="glitch-overlay" class="glitch-overlay"></div>

    <!-- Á≤íÂ≠êÂ∞òÂüÉ -->
    <div class="dust-particles"></div>

    <!-- HUD ÁïåÈù¢ -->
    <div class="hud">
      <!-- È°∂ÈÉ®Áä∂ÊÄÅÊ†è -->
      <header class="hud-header">
        <div class="hud-brand">
          <span class="brand-logo">‚óâ</span>
          <span class="brand-text glitch" data-text="0xRIP">0xRIP</span>
        </div>
        <div class="hud-stats">
          <div class="stat-item">
            <span class="stat-label">SOULS</span>
            <span id="soul-count" class="stat-value">0</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">TIME</span>
            <span id="time-display" class="stat-value">00:00:00</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">FPS</span>
            <span id="fps-display" class="stat-value">60</span>
          </div>
        </div>
      </header>

      <!-- ÂüãËë¨‰ª™ÂºèÂêëÂØºÔºàÊ≠•È™§ 1ÔΩû4Ôºâ -->
      <div id="burial-ritual-panel" class="burial-ritual-panel hidden">
        <div class="ritual-inner">
          <div class="ritual-header">
            <span class="ritual-title">‚óà BURIAL RITUAL</span>
            <button id="ritual-close" class="panel-close" aria-label="Close">√ó</button>
          </div>
          <div class="ritual-body">
            <!-- Ê≠•È™§ 1ÔºöÈÄâÊã©Ê£∫ÊùêÁ±ªÂûã -->
            <div id="ritual-step-1" class="ritual-step">
              <p class="ritual-step-desc">Select coffin type</p>
              <div class="coffin-options">
                <button type="button" class="coffin-btn" data-type="zip">[1] Standard Archive (.zip coffin)</button>
                <button type="button" class="coffin-btn" data-type="nft">[2] Blockchain Eternal (NFT monument)</button>
                <button type="button" class="coffin-btn" data-type="quantum">[3] Quantum Entanglement (Schr√∂dinger coffin)</button>
                <button type="button" class="coffin-btn" data-type="blackhole">[4] Black Hole Storage</button>
              </div>
              <button type="button" id="ritual-step-1-next" class="cyber-btn btn-primary ritual-next" disabled>Next</button>
            </div>
            <!-- Ê≠•È™§ 2ÔºöÂ¢ìÂøóÈì≠ -->
            <div id="ritual-step-2" class="ritual-step hidden">
              <p class="ritual-step-desc">Write epitaph (max 64 chars)</p>
              <div class="epitaph-row">
                <input type="text" id="ritual-epitaph" class="cyber-input epitaph-input" maxlength="64" placeholder="e.g.: while(alive) { love++; }" />
                <button type="button" id="ritual-epitaph-auto" class="cyber-btn btn-small">Auto-Generate</button>
              </div>
              <button type="button" id="ritual-step-2-next" class="cyber-btn btn-primary ritual-next">Next</button>
            </div>
            <!-- Ê≠•È™§ 3ÔºöÁ°ÆËÆ§Ê≠ª‰∫° -->
            <div id="ritual-step-3" class="ritual-step hidden">
              <p class="ritual-step-desc">Once buried, it belongs to the void. Are you certain?</p>
              <div id="ritual-death-preview" class="death-preview"></div>
              <button type="button" id="ritual-confirm-death" class="cyber-btn btn-danger">Confirm Death</button>
            </div>
            <!-- Ê≠•È™§ 4Ôºö‰∏ä‰º†ËÆ∞ÂøÜ‰∏éËµÑÊñô -->
            <div id="ritual-step-4" class="ritual-step hidden">
              <p class="ritual-step-desc">Attach memories and data (optional)</p>
              <div class="memory-upload">
                <label class="upload-zone" id="upload-zone">
                  <input type="file" id="ritual-file-txt" accept=".txt,text/plain" multiple hidden />
                  <span>Drag or click to upload .txt</span>
                </label>
                <input type="url" id="ritual-url" class="cyber-input url-input" placeholder="Enter webpage URL (obituary, memorial...)" />
              </div>
              <div class="ritual-step-4-actions">
                <button type="button" id="ritual-skip-memory" class="cyber-btn btn-secondary">Skip</button>
                <button type="button" id="ritual-done" class="cyber-btn btn-primary">Done</button>
              </div>
            </div>
          </div>
          <div class="ritual-footer">
            <span id="ritual-step-indicator">Step 1/4</span>
          </div>
        </div>
      </div>

      <!-- Â¢ìÁ¢ëËØ¶ÊÉÖÈù¢Êùø -->
      <div id="grave-detail-panel" class="grave-detail-panel hidden">
        <div class="panel-header">
          <span class="panel-title">‚ö° SOUL DATA</span>
          <button id="close-detail" class="panel-close">√ó</button>
        </div>
        <div class="panel-content">
          <div class="detail-id" id="detail-id">0x00000000</div>
          <h2 class="detail-name" id="detail-name">UNKNOWN</h2>
          <p class="detail-epitaph" id="detail-epitaph"></p>
          <div class="detail-meta">
            <span class="meta-item">
              <span class="meta-label">BURIED</span>
              <span id="detail-date">--/--/----</span>
            </span>
            <span class="meta-item">
              <span class="meta-label">COORDS</span>
              <span id="detail-coords">0, 0</span>
            </span>
          </div>
          <div class="detail-timeline">
            <h4 class="timeline-title">This Soul's Life</h4>
            <div id="detail-timeline-content" class="timeline-content">
              <p class="timeline-placeholder">No timeline data. Upload memories during burial or add later.</p>
            </div>
          </div>
          <div class="detail-actions">
            <button id="btn-mourn" class="cyber-btn btn-primary">üå∏ MOURN</button>
            <button id="btn-summon" class="cyber-btn btn-secondary">üëª SUMMON</button>
            <button id="btn-decay" class="cyber-btn btn-danger">‚ò†Ô∏è DECAY</button>
          </div>
        </div>
      </div>

      <!-- Â∫ïÈÉ®ÁªàÁ´Ø -->
      <div class="hud-terminal">
        <div class="terminal-header">
          <span class="terminal-title">‚óà TERMINAL v9.9.9</span>
          <div class="terminal-controls">
            <span class="control-dot active"></span>
            <span class="control-dot"></span>
            <span class="control-dot"></span>
          </div>
        </div>
        <div class="terminal-body">
          <div id="terminal-output" class="terminal-output"></div>
          <div class="terminal-input-line">
            <span class="terminal-prompt">root@0xRIP:~$</span>
            <input
              type="text"
              id="terminal-input"
              class="terminal-input"
              placeholder="Type HELP for commands..."
              autocomplete="off"
              spellcheck="false"
            />
            <span class="terminal-cursor"></span>
          </div>
        </div>
        <div class="terminal-shortcuts">
          <button class="shortcut-btn" data-cmd="BURY">BURY</button>
          <button class="shortcut-btn" data-cmd="SUMMON">SUMMON</button>
          <button class="shortcut-btn" data-cmd="LIST">LIST</button>
          <button class="shortcut-btn" data-cmd="HELP">HELP</button>
          <button class="shortcut-btn" data-cmd="DOOM">DOOM</button>
        </div>
      </div>

      <!-- ‰æßËæπÊèêÁ§∫ -->
      <aside class="hud-sidebar">
        <div class="sidebar-section">
          <h3 class="sidebar-title">‚å® COMMANDS</h3>
          <ul class="command-list">
            <li><span class="cmd-name">BURY</span><span class="cmd-desc">Bury new data</span></li>
            <li><span class="cmd-name">SUMMON</span><span class="cmd-desc">Summon soul</span></li>
            <li><span class="cmd-name">MOURN</span><span class="cmd-desc">Pay respects</span></li>
            <li><span class="cmd-name">LIST</span><span class="cmd-desc">List graves</span></li>
            <li><span class="cmd-name">DECAY</span><span class="cmd-desc">Delete data</span></li>
            <li><span class="cmd-name">HELP</span><span class="cmd-desc">Show help</span></li>
            <li><span class="cmd-name">DOOM</span><span class="cmd-desc">???</span></li>
          </ul>
        </div>
        <div class="sidebar-section">
          <h3 class="sidebar-title">üñ± CONTROLS</h3>
          <ul class="control-list">
            <li>WASD / Mouse drag ‚Üí Move</li>
            <li>Scroll ‚Üí Zoom</li>
            <li>Click grave ‚Üí View details</li>
            <li>F ‚Üí Toggle fullscreen</li>
          </ul>
        </div>
      </aside>

      <!-- Â∫ïÈÉ®Â∑•ÂÖ∑Ê†è -->
      <footer class="hud-footer">
        <div class="footer-status">
          <span class="status-indicator online"></span>
          <span class="status-text">SYSTEM ONLINE</span>
        </div>
        <div class="footer-coords" id="footer-coords">X: 0.00 | Z: 0.00</div>
      </footer>
    </div>
  </div>

  <script type="module" src="./src/main.ts"></script>
</body>
</html>
