# 0xRIP × 旷野之息设计文档

## 概述

将 0xRIP 数字墓地的视觉风格从 **CYBER NECROPOLIS** 转变为 **像素场景 + 旷野之息UI** 的混合风格。

## 设计目标

- **场景**：3D 像素化渲染 (16-bit JRPG 风格)
- **UI**：旷野之息 / 希卡石板风格
- **色调**：希卡科技风（深蓝黑 + 琥珀金/青色）
- **主题**：时空科幻
- **终端**：混合模式（命令行 + 图形化可切换）

---

## 一、色调系统

### 主色板

| 用途 | 颜色名 | HEX | CSS 变量 |
|------|--------|-----|----------|
| 主背景（深） | 深邃夜蓝 | `#0a0e1a` | `--color-bg-deep` |
| 主背景（浅） | 希卡石板蓝 | `#1a2035` | `--color-bg-panel` |
| 主要强调 | 琥珀金 | `#c9a227` | `--color-accent-gold` |
| 次要强调 | 希卡青 | `#4fd1c5` | `--color-accent-cyan` |
| 唤醒/激活 | 发光橙 | `#f5a623` | `--color-accent-orange` |
| 文字（主） | 月光白 | `#e8e4d9` | `--color-text-primary` |
| 文字（次） | 石刻灰 | `#6b7280` | `--color-text-secondary` |

### 渐变效果

- **希卡激活光晕**：从深蓝到青色的径向渐变
- **面板背景**：半透明深蓝 + 微妙的噪点纹理
- **按钮高亮**：琥珀金从中心向外发光

---

## 二、3D 场景像素化

### 后处理管线

```
渲染场景 → 像素化滤镜 → 色带减少 → CRT扫描线 → 输出
```

### 像素化配置

- 像素大小：根据屏幕分辨率动态调整（目标 4-6px 像素块）
- 边缘处理：保留清晰的像素边缘，不做抗锯齿
- 色带：限制到 32-64 色调色板，模拟 16-bit 感觉

### 场景元素重新设计

| 元素 | 当前 | 新设计 |
|------|------|--------|
| **墓碑** | 黑色金属 + 霓虹边 | 石质像素块 + 希卡符文发光纹理 |
| **幽灵** | 粒子系统 | 2D 像素精灵在 3D 空间中，带青色光晕 |
| **地面网格** | 霓虹线条 | 古老石板纹理，带希卡图案 |
| **粒子** | 彩色点 | 像素化的光点/符文碎片 |
| **雾** | 指数雾 | 分层像素雾，远景更模糊 |

### 希卡符文元素

- 墓碑上的铭文用希卡风格符文 + 拉丁字母混合
- 召唤仪式时，地面出现旋转的希卡符文圈
- 装饰性 UI 边框使用简化的希卡图案

---

## 三、UI 系统

### 字体选择

| 用途 | 字体 | 特点 |
|------|------|------|
| **标题/品牌** | `Cinzel Decorative` | 古典优雅，有石刻感 |
| **正文/UI** | `Quicksand` | 圆润现代，类似旷野之息 |
| **终端/代码** | `JetBrains Mono` | 清晰易读的等宽字体 |
| **希卡符文** | 自定义 SVG/CSS | 装饰性图案 |

### 核心组件

#### 1. 希卡石板终端

```
┌─────────────────────────────────────┐
│ ◇ 0xRIP TERMINAL              [_][□]│
├─────────────────────────────────────┤
│                                     │
│  > BURY 爷爷的 Windows XP           │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 💀 正在进行埋葬仪式...        │   │
│  │ ████████░░░░░░░░ 47%        │   │
│  └─────────────────────────────┘   │
│                                     │
│  [BURY] [SUMMON] [MOURN] [LIST]    │
│                                     │
└─────────────────────────────────────┘
```

- 圆角边框，琥珀金线条
- 支持命令行/图形双模式切换

#### 2. 状态栏 (HUD 顶部)

```
◇ 0xRIP          SOULS: 42    TIME: 23:59    FPS: 60
```

- 简洁一行，半透明背景
- 琥珀金图标 + 白色数字

#### 3. 墓碑详情面板

- 左侧：像素化墓碑预览
- 右侧：信息（名称、ID、日期、铭文）
- 底部：操作按钮（召唤、悼念、腐朽）
- 希卡风格的展开/收起动画

#### 4. 埋葬仪式面板

- 分步式界面（像旷野之息的神庙解谜提示）
- 每一步有清晰的图标和简短说明
- 完成时有希卡符文激活动画

### 交互效果

- **按钮悬停**：琥珀金光晕从中心扩散
- **面板打开**：从屏幕边缘滑入，带轻微弹性
- **命令执行**：文字逐字出现，配合打字机效果
- **切换模式**：命令行/图形界面用标签页切换

---

## 四、实现策略

### 文件结构

```
src/
├── main.ts              # Three.js 场景 + 像素化后处理
├── style.css            # 希卡风格 CSS 变量和组件
├── fonts/               # 新字体文件
│   ├── CinzelDecorative.woff2
│   ├── Quicksand.woff2
│   └── JetBrainsMono.woff2
├── sprites/             # 像素精灵图
│   ├── ghost.png
│   ├── runes.png
│   └── icons.png
└── shaders/
    ├── pixelate.glsl
    └── color-band.glsl
```

### 实现步骤

1. **Three.js 像素化后处理**
   - 使用 `EffectComposer` + 自定义像素化着色器
   - 添加 `RenderPixelatedPass` 或自定义 ShaderPass

2. **CSS 主题重写**
   - 定义新的 CSS 变量（颜色、间距、圆角）
   - 重写 `.cyber-*` 类为 `.sheikah-*` 类
   - 添加希卡风格的装饰性边框和图案

3. **UI 组件重构**
   - 终端组件：支持命令行/图形双模式
   - 面板组件：旷野之息风格的展开动画
   - 按钮组件：琥珀金光晕效果

4. **资源替换**
   - 字体替换
   - 创建/获取像素精灵资源
   - 希卡符文 SVG 图案

### 保留的功能

- 所有命令（BURY, SUMMON, MOURN, LIST, DECAY, DOOM）
- 键盘快捷键（WASD, F全屏）
- 墓碑数据模型
- 相机控制系统

---

## 五、视觉参考

- 《塞尔达传说：旷野之息》— 希卡石板 UI
- 《塞尔达传说：众神的三角力量》— 16-bit 像素艺术
- 《超时空之轮》— 时空科幻主题
- 《八方旅人》— 现代 HD-2D 技术

---

*设计日期: 2026-02-19*
